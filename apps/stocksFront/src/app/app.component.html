<div class="container">
  <form [formGroup]="form">
    <div formArrayName="stocks">
      <div
        class="d-flex flex-row"
        *ngFor="let stock of stocks.controls; let i = index"
        [formGroupName]="i"
      >
        <label class="form-label">Symbol</label>
        <input formControlName="symbol" class="form-control" />

        <label class="form-label">Market</label>
        <select name="" id="" formControlName="market" class="form-control">
          <option value="">Nasdaq</option>
          <option value="bcba">BCBA</option>
        </select>

        <label class="form-label">Price</label>
        <input
          type="number"
          formControlName="stockValue"
          class="form-control"
        />

        <label class="form-label">Qty</label>
        <input formControlName="qty" type="number" class="form-control" />

        Total = {{ this.getTotal(i) | number : '1.2-2' }}
        <button type="button" (click)="search(i)">search</button>
      </div>
    </div>
    <!-- <button type="button" (click)="addStock()">Add Stock</button> -->
    <!-- <button type="submit" (click)="onSubmit()">Submit</button> -->
  </form>

  <pre>{{ form.getRawValue() | json }}</pre>
</div>

<router-outlet></router-outlet>
